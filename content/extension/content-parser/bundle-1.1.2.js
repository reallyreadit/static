!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.buildLineage=function(e){for(var t=e.ancestor,n=[e.descendant];n[0]!==t;)n.unshift(n[0].parentElement);return n};var a=/[A-Z]?[a-z]+/g;t.findWordsInAttributes=function(e){return((e.id+" "+e.classList.value).match(a)||[]).map((function(e){return e.toLowerCase()}))};var i=/\S+/g;t.getWordCount=function(e){return(e.textContent.match(i)||[]).length};var c=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","TABLE","UL"];function l(e){return e.reduce((function(e,t){return t.forEach((function(t,n){e[n].includes(t)||e[n].push(t)})),e}),Array.from(new Array(Math.max.apply(Math,o(e.map((function(e){return e.length})))))).map((function(){return[]})))}t.isBlockElement=function(e){return c.includes(e.nodeName)},t.isElement=function(e){return e.nodeType===Node.ELEMENT_NODE},t.isImageContainerElement=function(e){return"FIGURE"===e.nodeName||"IMG"===e.nodeName||"PICTURE"===e.nodeName},t.isReadupElement=function(e){return(e.getAttribute("id")||"").startsWith("com_readup_")},t.isValidImgElement=function(e){return e.naturalWidth<=1&&e.naturalHeight<=1||e.naturalWidth>=200&&e.naturalHeight>=100||e.naturalWidth>=100&&e.naturalHeight>=200},t.zipContentLineages=function(e){return l(e.reduce((function(e,t){return e.concat(t.contentLineages)}),[]))},t.zipLineages=l},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);function a(e){return e.split("\n").map((function(e){return e.trim()})).filter((function(e){return!!e})).join("<br /><br />")}t.createMetadataElements=function(e,t,n){if(t&&(!e||t!==e)){var r=document.createElement("div");r.classList.add("com_readup_article_image_credit"),r.textContent=t,e&&(r.textContent=r.textContent.replace(e,"")),r.innerHTML=a(r.textContent),n.insertAdjacentElement("afterend",r)}if(e){var o=document.createElement("div");o.classList.add("com_readup_article_image_caption"),o.textContent=e,t&&e!==t&&(o.textContent=o.textContent.replace(t,"")),o.innerHTML=a(o.textContent),n.insertAdjacentElement("afterend",o)}},t.isValidContent=function(e,t){return!t.nodeNameBlacklist.some((function(t){return e.nodeName===t}))&&(t.nodeNameWhitelist.some((function(t){return e.nodeName===t||!!e.getElementsByTagName(t).length}))||!function(e){var t,n,o="";try{for(var a=r(e.childNodes),i=a.next();!i.done;i=a.next()){var c=i.value;c.nodeType===Node.TEXT_NODE&&(o+=c.textContent)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}(e).trim())&&!o.findWordsInAttributes(e).some((function(e){return t.attributeBlacklist.includes(e)}))&&("IMG"!==e.nodeName||o.isValidImgElement(e))}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,r,o){var a=e.call(this,t,n)||this;return a._caption=r,a._credit=o,a}return o(t,e),Object.defineProperty(t.prototype,"caption",{get:function(){return this._caption},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"credit",{get:function(){return this._credit},enumerable:!0,configurable:!0}),t}(n(3).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._containerLineage=[],this._contentLineages=[],this._containerLineage=e,this._contentLineages=t}return Object.defineProperty(e.prototype,"containerElement",{get:function(){return this._containerLineage.length?this._containerLineage[this._containerLineage.length-1]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerLineage",{get:function(){return this._containerLineage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentLineages",{get:function(){return this._contentLineages},enumerable:!0,configurable:!0}),e}();t.default=r},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o._wordCount=r,o}return o(t,e),t.prototype.mergeContent=function(e){var t;(t=this._contentLineages).push.apply(t,i(e._contentLineages)),this._wordCount+=e.wordCount},Object.defineProperty(t.prototype,"wordCount",{get:function(){return this._wordCount},enumerable:!0,configurable:!0}),t}(n(3).default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(13);t.default={universal:{textContainerSearch:{additionalContentNodeNameBlacklist:["ASIDE","FOOTER","HEADER"],additionalContentMaxDepthDecrease:1,additionalContentMaxDepthIncrease:1,descendantNodeNameBlacklist:["FORM"],nodeNameBlacklist:["BUTTON","FIGURE","FORM","HEAD","IFRAME","NAV","NOSCRIPT","PICTURE","PRE","SCRIPT","STYLE","svg"],selectorBlacklist:['[itemprop="author"], [itemprop="datePublished"]']},textContainerFilter:{attributeFullWordBlacklist:["ad","carousel","gallery","related","share","subscribe","subscription"],attributeWordPartBlacklist:["byline","caption","comment","download","interlude","image","meta","newsletter","photo","promo","pullquote","recirc","video"],blacklistSelectors:[],regexBlacklist:[/^\[[^\]]+\]$/],singleSentenceOpenerBlacklist:["►","click here","check out","don't miss","listen to","read more","related article:","sign up for","sponsored:","this article appears in","watch:"]},imageContainerSearch:{descendantNodeNameBlacklist:["FORM","IFRAME"],nodeNameBlacklist:["FORM","HEAD","IFRAME","NAV","SCRIPT","STYLE"],selectorBlacklist:[]},imageContainerFilter:{attributeFullWordBlacklist:["ad","related","share","subscribe","subscription"],attributeWordPartBlacklist:["interlude","newsletter","promo","recirc","video"],blacklistSelectors:[]},imageContainerMetadata:{contentRegexBlacklist:[/audm/i],contentRegexWhitelist:[],captionSelectors:["figcaption",'[class*="caption"i]','[itemProp*="caption"i]','[itemProp*="description"i]'],creditSelectors:['[class*="credit"i]','[class*="source"i]','[itemProp*="copyrightHolder"i]'],imageWrapperAttributeWordParts:["image","img","photo"]},imageContainerContent:{nodeNameBlacklist:["BUTTON"],nodeNameWhitelist:["IMG","META","PICTURE","SOURCE"],attributeBlacklist:["expand","icon","share"]},textContainerSelection:{nodeNameWhitelist:["ASIDE","BLOCKQUOTE","DIV","H1","H2","H3","H4","H5","H6","OL","P","PRE","TABLE","UL"],ancestorNodeNameBlacklist:["BLOCKQUOTE","LI","P"]},wordCountTraversalPathSearchLimitMultiplier:.75},publishers:[{hostname:"ablogtowatch.com",textContainerSearch:{selectorBlacklist:[".ablog-adlabel"]}},{hostname:"99u.adobe.com",textContainerFilter:{attributeFullWordBlacklist:["blockquote"]}},{hostname:"aljazeera.com",contentSearchRootElementSelector:"div.main-article-body"},{hostname:"bostonglobe.com",transpositions:[{elementSelectors:[".article > .lead > *"],parentElementSelector:".article > .body"}]},{hostname:"cnbc.com",contentSearchRootElementSelector:".ArticleBody-articleBody"},{hostname:"cnn.com",transpositions:[{elementSelectors:[".el__leafmedia--sourced-paragraph > .zn-body__paragraph",".l-container > .zn-body__paragraph:not(.zn-body__footer)",".l-container > .zn-body__paragraph > h3"],parentElementSelector:".zn-body__read-all"}]},{hostname:"gizmodo.com",imageStrategy:a.LazyImageStrategy.GizmodoImgUrl},{hostname:"abcnews.go.com",textContainerSearch:{selectorBlacklist:['[class*="insert"]']}},{hostname:"governing.com",imageStrategy:a.LazyImageStrategy.GoverningImgSrcCorrection},{hostname:"hackaday.com",contentSearchRootElementSelector:'div[itemprop="articleBody"]'},{hostname:"huffpost.com",transpositions:[{elementSelectors:['#entry-text [data-rapid-subsec="paragraph"] > :not([data-rapid-subsec="paragraph"])'],parentElementSelector:"#entry-text"}]},{hostname:"insider.com",imageStrategy:a.LazyImageStrategy.PostLoadImgTag},{hostname:"invisionapp.com",imageContainerSearch:{selectorBlacklist:['div[class^="TweetQuotecomponent"]']}},{hostname:"longreads.com",textContainerSearch:{selectorBlacklist:[".in-story"]}},{hostname:"junkyardofthemind.com",contentSearchRootElementSelector:'div[data-layout-label="Post Body"]'},{hostname:"medium.com",textContainerFilter:{attributeFullWordWhitelist:["ad"]},imageStrategy:a.LazyImageStrategy.MediumScaleUp},{hostname:"devblogs.microsoft.com",contentSearchRootElementSelector:"article"},{hostname:"nationalreview.com",contentSearchRootElementSelector:"div.article-content"},{hostname:"newyorker.com",textContainerSearch:{selectorBlacklist:[".persistent-top"]},transpositions:[{elementSelectors:["inline-embed p"],parentElementSelector:".article__body"}]},{hostname:"nymag.com",contentSearchRootElementSelector:".article-content"},{hostname:"nytimes.com",transpositions:[{elementSelectors:[".story-body-1 > .story-body-text"],parentElementSelector:".story-body-2"}],imageStrategy:a.LazyImageStrategy.NytFigureMulti,textContainerSearch:{selectorBlacklist:['[id*="ad"], .epkadsg3, .etfikam0, .ez3869y0']},imageContainerSearch:{selectorBlacklist:['[id*="ad"], .epkadsg3, .etfikam0, .ez3869y0']}},{hostname:"politico.com",imageContainerSearch:{selectorBlacklist:[".social-tools"]}},{hostname:"qsrmagazine.com",contentSearchRootElementSelector:".post"},{hostname:"raptitude.com",contentSearchRootElementSelector:".entry-content"},{hostname:"article-test.dev.readup.com",transpositions:[{elementSelectors:[".lead"],parentElementSelector:".lead + div"}],imageStrategy:a.LazyImageStrategy.PostLoadImgTag},{hostname:"sciencedaily.com",transpositions:[{elementSelectors:["p.lead"],parentElementSelector:"div#text"}]},{hostname:"sinocism.com",textContainerFilter:{blacklistSelectors:[function(){var e=Array.from(document.getElementsByTagName("p")).find((function(e){return e.textContent.toLowerCase().startsWith("this week’s issues of sinocism")}));return e?o([e],Array.from(e.parentElement.children).filter((function(t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING}))):[]}]}},{hostname:"techcrunch.com",contentSearchRootElementSelector:".article-content"},{hostname:"techrepublic.com",textContainerFilter:{blacklistSelectors:[function(){var e=Array.from(document.getElementsByTagName("h2")).find((function(e){return e.textContent.toLowerCase().startsWith("also see")}));return e&&e.nextElementSibling?[e,e.nextElementSibling]:[]}]}},{hostname:"theatlantic.com",contentSearchRootElementSelector:".article-body",transpositions:[{elementSelectors:[".article-body > section > div > p"],parentElementSelector:".article-body > section:last-of-type"}],imageContainerSearch:{selectorBlacklist:[".callout"]},textContainerSearch:{selectorBlacklist:[".c-nudge__spacing-container"]},textContainerFilter:{blacklistSelectors:[function(){var e=Array.from(document.querySelectorAll("p > strong")).find((function(e){return"related video"===e.textContent.trim().toLowerCase()}));return e?[e.parentElement]:[]}]}},{hostname:"thecorrespondent.com",textContainerSearch:{selectorBlacklist:[".contentitem-infocard__toggle-icon",".contentitem-sidenote__note"]}},{hostname:"thecut.com",contentSearchRootElementSelector:'[itemprop="articleBody"]',textContainerSearch:{selectorBlacklist:["aside"]}},{hostname:"thedailybeast.com",contentSearchRootElementSelector:"article.Body"},{hostname:"theguardian.com",textContainerSearch:{selectorBlacklist:[".contributions__epic"]}},{hostname:"thenewatlantis.com",textContainerSearch:{selectorBlacklist:['.author, .epigraph, [style*="BellMT"], h2']},imageContainerSearch:{selectorBlacklist:['[style*="BellMT"]']}},{hostname:"theverge.com",contentSearchRootElementSelector:".c-entry-content",textContainerSearch:{selectorBlacklist:["aside"]}},{hostname:"variety.com",contentSearchRootElementSelector:"article.c-content"},{hostname:"vice.com",contentSearchRootElementSelector:".article__body"},{hostname:"washingtonpost.com",imageStrategy:a.LazyImageStrategy.WashingtonPostScaleUp,textContainerSearch:{selectorBlacklist:[".pg-navigation",".pg-article-bottom",".utility-bar",'[data-qa="article-body-ad"]',".hide-for-print",".annotation-details"]},textContainerFilter:{attributeFullWordBlacklist:["helper","interstitial"]},transpositions:[{elementSelectors:["article header#pg-content p.pg-body-copy"],parentElementSelector:"article .article-body"}],imageContainerSearch:{selectorBlacklist:[".annotation-details"]}},{hostname:"wired.com",textContainerFilter:{attributeFullWordBlacklist:["inset"],blacklistSelectors:[function(){var e=Array.from(document.getElementsByTagName("h3")).find((function(e){return e.textContent.toLowerCase().startsWith("more great wired stories")}));return e&&e.nextElementSibling?[e,e.nextElementSibling]:[]}]},imageContainerSearch:{selectorBlacklist:[".inset"]}},{hostname:"finance.yahoo.com",contentSearchRootElementSelector:'article[itemprop="articleBody"]',transpositions:[{elementSelectors:['div[class*="readmore"] p'],parentElementSelector:'article[itemprop="articleBody"] div[class~="canvas-body"]'}]},{hostname:"gsd.harvard.edu",contentSearchRootElementSelector:'div[class~="article-body"]'},{hostname:"news.harvard.edu",textContainerFilter:{attributeFullWordBlacklist:["explore"]}},{hostname:"nih.gov",contentSearchRootElementSelector:"#maincontent",textContainerSearch:{selectorBlacklist:[".goto",".largeobj-link"]},textContainerFilter:{blacklistSelectors:[function(){var e=Array.from(document.getElementsByTagName("h2")).find((function(e){return"Footnotes"===e.textContent}));return e&&e.parentElement.classList.contains("sec")?Array.from(e.parentElement.parentElement.children).filter((function(t){return e.parentElement===t||e.parentElement.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING})).reduce((function(e,t){return e.concat(Array.from(t.querySelectorAll("*")))}),[]):[]}]},transpositions:[{elementSelectors:[".sec > .sec > *",".sec > .table > *",".sec > .table > .caption > *",".sec > .table > * > table",".sec > .table > .tblwrap-foot > *"],parentElementSelector:"#maincontent .sec + .sec"}]},{hostname:"hackster.io",contentSearchRootElementSelector:"#story"},{hostname:"dark-mountain.net",transpositions:[{elementSelectors:[".entry-content > div > .component--drop-cap",".entry-content > div > p"],parentElementSelector:".entry-content"}]},{hostname:"mcsweeneys.net",contentSearchRootElementSelector:".article-body"},{hostname:"churchofjesuschrist.org",transpositions:[{elementSelectors:[".body-block > p",".body-block > section:first-of-type > header > h2"],parentElementSelector:".body-block > section:first-of-type"}]},{hostname:"quantamagazine.org",imageStrategy:a.LazyImageStrategy.QuantaScriptTemplate,imageContainerSearch:{selectorBlacklist:[".post__sidebar"]}},{hostname:"dailymail.co.uk",contentSearchRootElementSelector:'div[itemprop="articleBody"]',textContainerSearch:{selectorBlacklist:[".art-insert"]}},{hostname:"lrb.co.uk",transpositions:[{elementSelectors:[".article-body > .dropcap"],parentElementSelector:"#article-body"}]},{hostname:"telegraph.co.uk",transpositions:[{elementSelectors:['#mainBodyArea > div[class$="Par"] > *'],parentElementSelector:"#mainBodyArea > .body"}]},{hostname:"nautil.us",contentSearchRootElementSelector:'[itemprop="articleBody"]',imageStrategy:a.LazyImageStrategy.NautilusHostSwap,textContainerSearch:{selectorBlacklist:[".pull-quote"]},imageContainerSearch:{selectorBlacklist:[".reco"]}}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(15);window.reallyreadit.readerContentScript.contentParser.set({parse:function(){return r.default()},prune:function(e){return o.default(e)}})},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),c=n(9),l=n(10),u=n(2),s=n(11),d=n(4),m=n(0),f=n(1),h=n(12),p=n(5),g=n(14),y=/^[^.!?]+[.!?'"]*$/,b=/^[^:]+:.+$/;function S(e,t){return t.map((function(t){return e.querySelectorAll(t)})).reduce((function(e,t){return e.concat(Array.from(t))}),[])}function C(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(t(r,n))return r}return null}function v(e){return Array.isArray(e)?e.reduce((function(e,t){return e.concat(v(t))}),[]):"string"==typeof e?Array.from(document.querySelectorAll(e)):e()}function _(e,t){var n=m.findWordsInAttributes(e);return!n.some((function(e){return(t.attributeFullWordBlacklist.includes(e)||t.attributeWordPartBlacklist.some((function(t){return e.includes(t)})))&&!n.some((function(e){return t.attributeFullWordWhitelist.includes(e)}))}))}function E(e,t){var n=e.getElementsByTagName("a");if(!n.length)return!0;if(1===n.length&&n[0].textContent===e.textContent&&e.textContent.toUpperCase()===e.textContent)return!1;var r=e.textContent.trim();if(t.regexBlacklist.some((function(e){return e.test(r)})))return!1;if(r.match(y)){if(b.test(r))return!1;var o=r.toLowerCase();return!t.singleSentenceOpenerBlacklist.some((function(e){return o.startsWith(e)}))}return!0}function x(e,t){return!t.nodeNameBlacklist.some((function(t){return e.nodeName===t}))&&!t.selectorBlacklist.some((function(t){return e.matches(t)}))}var w=function(){function e(e,t,n,r){var o=function(e,t){return C(e,(function(n,r){return m.isElement(n)&&t.nodeNameWhitelist.includes(n.nodeName)&&!e.slice(0,r).some((function(e){return t.ancestorNodeNameBlacklist.includes(e.nodeName)}))}))}(t,n.textContainerSelection);if(o&&!n.textContainerSearch.descendantNodeNameBlacklist.some((function(e){return!!o.getElementsByTagName(e).length}))){var a=void 0,i=n?n.transpositions.find((function(e){return e.elements.some((function(e){return e===o}))})):null;a=i?i.lineage.concat(o):t.slice(0,t.indexOf(o)+1);var c=new d.default(a,[t.concat(e)],m.getWordCount(e)),l=r.find((function(e){return e.containerElement===o}));l?l.mergeContent(c):r.push(c)}}return function(t,n,o,a){var i,c;if(void 0===a&&(a=[]),m.isElement(t)&&(!n.length||x(t,o.textContainerSearch))){var l=n.concat(t);try{for(var u=r(t.childNodes),s=u.next();!s.done;s=u.next()){var d=s.value;d.nodeType===Node.TEXT_NODE?e(d,l,o,a):w(d,l,o,a)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(c=u.return)&&c.call(u)}finally{if(i)throw i.error}}}return a}}();var N=function(){function e(e){var t,n;try{for(var o=r(e),a=o.next();!a.done;a=o.next()){var i=a.value;if(i instanceof HTMLElement){var c=i.innerText.trim();if(c)return c}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return null}function t(e,n,o){var a,i;if(void 0===o&&(o=[]),f.isValidContent(e,n)){o.push(e);try{for(var c=r(e.children),l=c.next();!l.done;l=c.next()){t(l.value,n,o)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}}return o}return function(n,o,a,i,c,l){if(void 0===l&&(l=[]),m.isElement(n)&&x(n,c.imageContainerSearch)){var s=o.concat(n);A(n,o.length,a,i).forEach((function(n){m.isImageContainerElement(n.node)?function(n,o,a,i){var c,l;if(x(n,a.imageContainerSearch)&&!a.imageContainerSearch.descendantNodeNameBlacklist.some((function(e){return!!n.getElementsByTagName(e).length}))){var s=Array.from("IMG"===n.nodeName?[n]:n.getElementsByTagName("img")),d=s.filter((function(e){return m.isValidImgElement(e)}));if(!s.length||d.length){var f=void 0,h=void 0;switch(n.nodeName){case"PICTURE":f=n,h=Array.from(n.children).filter((function(e){return"SOURCE"===e.nodeName||"META"===e.nodeName||"IMG"===e.nodeName}));break;case"FIGURE":f=n,h=[];try{for(var p=r(n.children),g=p.next();!g.done;g=p.next()){t(g.value,a.imageContainerContent,h)}}catch(e){c={error:e}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(c)throw c.error}}break;case"IMG":f=n,h=[n]}var y=C(o,(function(e,t){if(0===t)return!1;var n=o[t-1];return(n.previousElementSibling||n.nextElementSibling)&&!m.findWordsInAttributes(n).some((function(e){return a.imageContainerMetadata.imageWrapperAttributeWordParts.some((function(t){return e.includes(t)}))}))}))||n;i.push(new u.default(f?o.concat(f):[],h.map((function(e){return o.concat(m.buildLineage({descendant:e,ancestor:n}))})),e(S(y,a.imageContainerMetadata.captionSelectors)),e(S(y,a.imageContainerMetadata.creditSelectors))))}}}(n.node,s,c,l):N(n.node,s,n.edge,i,c,l)}))}return l}}(),k=function(e,t,n,o,a){if(void 0===a&&(a=[]),m.isElement(e)){var i=t.concat(e);A(e,t.length,n,o).forEach((function(e){if("PRE"===e.node.nodeName){var t=i.concat(e.node);a.push(new d.default(t,function e(t,n,o){var a,i;void 0===o&&(o=[]);try{for(var c=r(t.childNodes),l=c.next();!l.done;l=c.next()){var u=l.value;m.isElement(u)?e(u,n.concat(u),o):u.nodeType===Node.TEXT_NODE&&o.push(n.concat(u))}}catch(e){a={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return o}(e.node,t),m.getWordCount(e.node)))}else k(e.node,i,e.edge,o,a)}))}return a};function A(e,t,n,r){var o=Array.from(e.childNodes);if(n!==s.default.None&&t<r.length-1){var a,i,c=r[t+1];return n&s.default.Left&&(a=o.findIndex((function(e){return c.includes(e)}))),n&s.default.Right&&(i=o.length-1-o.reverse().findIndex((function(e){return c.includes(e)})),o.reverse()),o.filter((function(e,t){return(null==a||t>=a)&&(null==i||t<=i)})).map((function(e,t,r){var o=s.default.None;return n&s.default.Left&&0===t&&(o|=s.default.Left),n&s.default.Right&&t===r.length-1&&(o|=s.default.Right),{node:e,edge:o}}))}return o.map((function(e){return{node:e,edge:s.default.None}}))}t.default=function(){var e,t=g.findPublisherConfig(p.default.publishers,window.location.hostname);t&&t.contentSearchRootElementSelector&&(e=document.querySelector(t.contentSearchRootElementSelector)),e||(e=document.body);var n=new h.default(p.default.universal,t,e),r=v(n.textContainerFilter.blacklistSelectors),o=w(e,[],n).filter((function(e){return e.wordCount>0&&!r.some((function(t){return t===e.containerElement}))&&E(e.containerElement,n.textContainerFilter)})),u=o.filter((function(e){return _(e.containerElement,n.textContainerFilter)}));u.length/o.length>.5&&(o=u);var d,f=o.reduce((function(e,t){var n=t.containerLineage.length,r=e.find((function(e){return e.depth===n}));return r?r.add(t):e.push(new i.default(n,t)),e}),[]),y=f.sort((function(e,t){return t.wordCount-e.wordCount}))[0],b=(d=y).members.map((function(e,t,n){for(var r=n.filter((function(t){return t!==e})),o=[new l.default({hops:0,frequency:1,wordCount:e.wordCount})],a=function(t){var n=d.depth-t,a=r.filter((function(t){return t.containerLineage[n]===e.containerLineage[n]}));a.length&&(o.push(new l.default({hops:2*t,frequency:a.length,wordCount:a.reduce((function(e,t){return e+t.wordCount}),0)})),a.forEach((function(e){r.splice(r.indexOf(e),1)})))},i=1;i<=d.depth&&r.length;i++)a(i);return new c.default(e,o)})),S=b.reduce((function(e,t){var n=e.find((function(e){return e.preferredPathHopCount===t.getPreferredPath().hops}));return n?(n.searchResults.push(t),n.wordCount+=t.textContainer.wordCount):e.push({preferredPathHopCount:t.getPreferredPath().hops,searchResults:[t],wordCount:t.textContainer.wordCount}),e}),[]).sort((function(e,t){return t.wordCount-e.wordCount})).reduce((function(e,t){return e.reduce((function(e,t){return e+t.wordCount}),0)<y.wordCount*n.wordCountTraversalPathSearchLimitMultiplier&&e.push(t),e}),[]).reduce((function(e,t){return e.concat(t.searchResults)}),[]),C=b.filter((function(e){return!S.includes(e)}));if(C.length){var P=S.reduce((function(e,t){var n=e.find((function(e){return e.nodeName===t.textContainer.containerElement.nodeName}));return n?(n.searchResults.push(t),n.wordCount+=t.textContainer.wordCount):e.push({nodeName:t.textContainer.containerElement.nodeName,searchResults:[t],wordCount:t.textContainer.wordCount}),e}),[]).sort((function(e,t){return t.wordCount-e.wordCount}))[0];"P"===P.nodeName&&(S=S.concat(C.filter((function(e){return e.textContainer.containerElement.nodeName===P.nodeName}))))}var B=S[0].textContainer.containerLineage[S[0].textContainer.containerLineage.length-Math.max(Math.max.apply(Math,a(S.map((function(e){return e.getPreferredPath().hops}))))/2,1)],O=m.zipContentLineages(S.map((function(e){return e.textContainer}))).slice(m.buildLineage({ancestor:e,descendant:B}).length-1),T=v(n.imageContainerFilter.blacklistSelectors),L=N(B,[],s.default.Left|s.default.Right,O,n).filter((function(e){return!T.some((function(t){return t===e.containerElement}))&&_(e.containerElement,n.imageContainerFilter)&&function(e,t){var n=(e.caption||"")+" "+(e.credit||"");return!(t.contentRegexBlacklist.some((function(e){return e.test(n)}))&&!t.contentRegexWhitelist.some((function(e){return e.test(n)})))}(e,n.imageContainerMetadata)})),R=k(B,[],s.default.Left|s.default.Right,O),F=function e(t,n,r,o,i,c,l,u){return void 0===u&&(u=[]),m.isElement(t)&&!l.additionalContentNodeNameBlacklist.includes(t.nodeName)&&x(t,l)&&!c.includes(t)&&A(t,n.length,r,o).forEach((function(r){var s;m.isElement(r.node)&&(s=i.find((function(e){return e.containerElement===r.node})))?c.some((function(e){return e===r.node||r.node.contains(e)}))||u.push(s):e(r.node,a([t],n),r.edge,o,i,c,l,u)})),u}(B,[],s.default.Left|s.default.Right,O,f.filter((function(e){return e.depth!==y.depth&&e.depth>=y.depth-n.textContainerSearch.additionalContentMaxDepthDecrease&&e.depth<=y.depth+n.textContainerSearch.additionalContentMaxDepthIncrease})).reduce((function(e,t){return e.concat(t.members)}),[]).concat(b.filter((function(e){return!S.includes(e)})).map((function(e){return e.textContainer}))),L.map((function(e){return e.containerElement})),n.textContainerSearch).filter((function(e){return E(e.containerElement,n.textContainerFilter)}));return{contentSearchRootElement:e,depthGroupWithMostWords:y,primaryTextContainerSearchResults:S,additionalPrimaryTextContainers:F,primaryTextRootNode:B,primaryTextContainers:S.map((function(e){return e.textContainer})).concat(F),imageContainers:L,preformattedTextContainers:R}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._wordCount=0,this._depth=e,this._members=t,this._wordCount=t.reduce((function(e,t){return e+t.wordCount}),0)}return e.prototype.add=function(e){var t=this._members.find((function(t){return t.containerElement===e.containerElement}));t?t.mergeContent(e):this._members.push(e),this._wordCount+=e.wordCount},Object.defineProperty(e.prototype,"depth",{get:function(){return this._depth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"members",{get:function(){return this._members},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordCount",{get:function(){return this._wordCount},enumerable:!0,configurable:!0}),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._textContainer=e,this._paths=t}return e.prototype.getPreferredPath=function(){return this._preferredPath||(this._preferredPath=this._paths.sort((function(e,t){return e.wordCount!==t.wordCount?t.wordCount-e.wordCount:e.hops-t.hops}))[0]),this._preferredPath},Object.defineProperty(e.prototype,"textContainer",{get:function(){return this._textContainer},enumerable:!0,configurable:!0}),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=e.hops,n=e.frequency,r=e.wordCount;this._hops=t,this._frequency=n,this._wordCount=r}return e.prototype.add=function(t){var n=t.frequency,r=t.wordCount;return new e({hops:this._hops,frequency:this._frequency+n,wordCount:this._wordCount+r})},Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hops",{get:function(){return this._hops},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordCount",{get:function(){return this._wordCount},enumerable:!0,configurable:!0}),e}();t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right"}(r||(r={})),t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){function e(e,t,n){this._textContainerFilter=e.textContainerFilter,this._imageContainerMetadata=e.imageContainerMetadata,this._imageContainerContent=e.imageContainerContent,this._textContainerSelection=e.textContainerSelection,this._wordCountTraversalPathSearchLimitMultiplier=e.wordCountTraversalPathSearchLimitMultiplier,t?(t.textContainerSearch?this._textContainerSearch=r(r({},e.textContainerSearch),{selectorBlacklist:e.textContainerSearch.selectorBlacklist.concat(t.textContainerSearch.selectorBlacklist||[])}):this._textContainerSearch=e.textContainerSearch,t.textContainerFilter?this._textContainerFilter=r(r({},e.textContainerFilter),{attributeFullWordBlacklist:e.textContainerFilter.attributeFullWordBlacklist.concat(t.textContainerFilter.attributeFullWordBlacklist||[]),attributeFullWordWhitelist:t.textContainerFilter.attributeFullWordWhitelist||[],blacklistSelectors:e.textContainerFilter.blacklistSelectors.concat(t.textContainerFilter.blacklistSelectors||[])}):this._textContainerFilter=r(r({},e.textContainerFilter),{attributeFullWordWhitelist:[]}),t.imageContainerSearch?this._imageContainerSearch=r(r({},e.imageContainerSearch),{selectorBlacklist:e.imageContainerSearch.selectorBlacklist.concat(t.imageContainerSearch.selectorBlacklist||[])}):this._imageContainerSearch=e.imageContainerSearch,t.imageContainerFilter?this._imageContainerFilter=r(r({},e.imageContainerFilter),{attributeFullWordBlacklist:e.imageContainerFilter.attributeFullWordBlacklist.concat(t.imageContainerFilter.attributeFullWordBlacklist||[]),attributeFullWordWhitelist:t.imageContainerFilter.attributeFullWordWhitelist||[],blacklistSelectors:e.imageContainerFilter.blacklistSelectors.concat(t.imageContainerFilter.blacklistSelectors||[])}):this._imageContainerFilter=r(r({},e.imageContainerFilter),{attributeFullWordWhitelist:[]}),this._contentSearchRootElementSelector=t.contentSearchRootElementSelector,t.transpositions?this._transpositions=t.transpositions.map((function(e){var t=document.querySelector(e.parentElementSelector),r=e.elementSelectors.reduce((function(e,t){return e.concat(Array.from(document.querySelectorAll(t)))}),[]);return t&&r.length?{elements:r,lineage:o.buildLineage({ancestor:n,descendant:t})}:null})).filter((function(e){return!!e})):this._transpositions=[],this._imageStrategy=t.imageStrategy):(this._textContainerSearch=e.textContainerSearch,this._textContainerFilter=r(r({},e.textContainerFilter),{attributeFullWordWhitelist:[]}),this._imageContainerSearch=e.imageContainerSearch,this._imageContainerFilter=r(r({},e.imageContainerFilter),{attributeFullWordWhitelist:[]}),this._transpositions=[])}return Object.defineProperty(e.prototype,"textContainerSearch",{get:function(){return this._textContainerSearch},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textContainerFilter",{get:function(){return this._textContainerFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageContainerSearch",{get:function(){return this._imageContainerSearch},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageContainerFilter",{get:function(){return this._imageContainerFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageContainerMetadata",{get:function(){return this._imageContainerMetadata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageContainerContent",{get:function(){return this._imageContainerContent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textContainerSelection",{get:function(){return this._textContainerSelection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentSearchRootElementSelector",{get:function(){return this._contentSearchRootElementSelector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transpositions",{get:function(){return this._transpositions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordCountTraversalPathSearchLimitMultiplier",{get:function(){return this._wordCountTraversalPathSearchLimitMultiplier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageStrategy",{get:function(){return this._imageStrategy},enumerable:!0,configurable:!0}),e}();t.default=a},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(1);function c(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];n.forEach((function(n){var r,o;"string"==typeof n?(r=n,o=n):(r=n[0],o=n[1]),e.hasAttribute(r)&&t.setAttribute(o,e.getAttribute(r))}))}function l(e,t){if(e.length)if("IntersectionObserver"in window){var n=new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&(n.unobserve(e.target),t(e.target))}))}),{rootMargin:"0px 0px 200px 0px"});e.forEach((function(e){n.observe(e)}))}else e.forEach(t)}!function(e){e[e.DataSrcSrcset=0]="DataSrcSrcset",e[e.GizmodoImgUrl=1]="GizmodoImgUrl",e[e.GoverningImgSrcCorrection=2]="GoverningImgSrcCorrection",e[e.HttpToHttps=3]="HttpToHttps",e[e.MediumScaleUp=4]="MediumScaleUp",e[e.NautilusHostSwap=5]="NautilusHostSwap",e[e.NoscriptImgContent=6]="NoscriptImgContent",e[e.NytFigureMulti=7]="NytFigureMulti",e[e.PostLoadImgTag=8]="PostLoadImgTag",e[e.QuantaScriptTemplate=9]="QuantaScriptTemplate",e[e.WashingtonPostScaleUp=10]="WashingtonPostScaleUp"}(a=t.LazyImageStrategy||(t.LazyImageStrategy={}));var u="img[data-src], img[data-srcset], source[data-src], source[data-srcset]";function s(e){var t=e.slice().sort((function(e,t){return e-t})),n=window.screen.availWidth*window.devicePixelRatio;return t.find((function(e){return e>=n}))||t[t.length-1]}t.default=function e(t){switch(t){case a.DataSrcSrcset:l(Array.from(document.querySelectorAll(u)).map((function(e){return e.parentElement})),(function(e){Array.from(e.querySelectorAll(u)).forEach((function(e){e.hasAttribute("data-src")&&e.getAttribute("data-src")!==e.getAttribute("src")&&e.setAttribute("src",e.getAttribute("data-src")),e.hasAttribute("data-srcset")&&e.getAttribute("data-srcset")!==e.getAttribute("srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset")),e.hasAttribute("src")&&e.getAttribute("src").startsWith("data:")&&e.removeAttribute("src")}))}));break;case a.GizmodoImgUrl:l(Array.from(document.querySelectorAll("figure[data-id][data-format]")),(function(e){var t=e.getElementsByTagName("img")[0];t&&t.src.startsWith("data:")&&(t.src="https://i.kinja-img.com/gawker-media/image/upload/c_scale,f_auto,fl_progressive,q_80,w_"+s([80,320,470,800,1600])+"/"+e.dataset.id+"."+e.dataset.format.toLowerCase())}));break;case a.GoverningImgSrcCorrection:l(Array.from(document.querySelectorAll("img")),(function(e){e.src=e.src.replace(/^http:/,"https:").replace(/&.*$/,"")}));break;case a.HttpToHttps:l(Array.from(document.getElementsByTagName("img")),(function(e){e.src=e.src.replace(/^http:/,"https:")}));break;case a.MediumScaleUp:l(Array.from(document.querySelectorAll("figure")),(function(e){var t=e.getElementsByTagName("img")[0];if(t.src){var n=t.src.match(/(https:\/\/[^\/]+)\/.*\/([^\/?]+)/);n&&(t.src=n[1]+"/max/"+t.getAttribute("width")+"/"+n[2])}}));break;case a.NautilusHostSwap:l(Array.from(document.getElementsByTagName("figure")),(function(e){Array.from(e.getElementsByTagName("img")).forEach((function(e){e.src.startsWith("http://static.nautil.us/")&&(e.src=e.src.replace("http://static.nautil.us/","https://d3chnh8fr629l6.cloudfront.net/"))}))}));break;case a.NoscriptImgContent:var n;try{n=new RegExp(/^\s*<\s*img\s.+\s*>\s*$/,"is")}catch(e){n=new RegExp(/^\s*<\s*img\s.+\s*>\s*$/,"i")}l(Array.from(document.getElementsByTagName("noscript")).map((function(e){return e.parentElement})),(function(e){Array.from(e.getElementsByTagName("noscript")).forEach((function(e){if(n.test(e.textContent)){var t=document.createElement("div");t.innerHTML=e.textContent;var r=t.firstElementChild,o=e.parentElement.getElementsByClassName("com_readup_article_image_container")[0];o?"FIGURE"===o.nodeName?o.append(r):(r.classList.add("com_readup_article_image_container"),o.replaceWith(r)):e.replaceWith(r)}}))}));break;case a.NytFigureMulti:var r=Array.from(document.getElementsByTagName("figure")).filter((function(e){return"http://schema.org/ImageObject"===e.getAttribute("itemType")}));r.length&&l(r,(function(e){if(!e.getElementsByTagName("img").length){var t=document.createElement("img");t.src=e.getAttribute("itemID"),e.prepend(t)}}));var d=Array.from(document.querySelectorAll("img[data-pattern][data-widths]"));d.length&&l(d,(function(e){var t;try{var n=JSON.parse(e.dataset.widths);if(Array.isArray(n))t=e.dataset.pattern.replace("{{size}}",s(n).toString());else{var r=s(n.master.map((function(e){return e.size})));t=e.dataset.pattern.replace("{{file}}",n.master.find((function(e){return e.size===r})).filename)}}catch(n){t=e.dataset.mediaviewerSrc}t&&(e.src=t)}));break;case a.PostLoadImgTag:l(Array.from(document.getElementsByTagName("postload-img")),(function(e){var t=document.createElement("img");c.apply(void 0,o([e,t],["data-alt","data-class","data-sizes","data-src","data-srcset","data-title"].map((function(e){return[e,e.split("-")[1]]})))),e.replaceWith(t)}));break;case a.QuantaScriptTemplate:var m=document.querySelectorAll('div[id^="component-"] script');m.length&&l(Array.from(m).map((function(e){return e.parentElement})),(function(e){var t=e.getElementsByTagName("script")[0];if(t)try{var n=JSON.parse(t.textContent),r=document.createElement("img");if(r.src=n.data.src,t.replaceWith(r),n.data.attribution||n.data.caption){var o=void 0,a=void 0,c=document.createElement("div");n.data.attribution&&(c.innerHTML=n.data.attribution,a=c.textContent),n.data.caption&&(c.innerHTML=n.data.caption,o=c.textContent),i.createMetadataElements(o,a,r)}}catch(e){}}));break;case a.WashingtonPostScaleUp:l(Array.from(document.querySelectorAll("img[data-hi-res-src]")),(function(e){e.src=e.getAttribute("data-hi-res-src")}));break;default:if(document.querySelectorAll('figure img[src^="https://miro.medium.com"]').length)return e(a.MediumScaleUp);if(document.querySelectorAll(u).length)return e(a.DataSrcSrcset);if(document.querySelectorAll('img[src^="http:"]').length)return e(a.HttpToHttps);if(document.querySelectorAll("noscript").length)return e(a.NoscriptImgContent)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findPublisherConfig=function(e,t){return e.find((function(e){return t.endsWith(e.hostname)}))}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=n(2),c=n(1),l=n(5),u=n(4),s=["application/json","application/ld+json","text/template","text/x-readup-disabled-javascript"];function d(e,t,n,r){if(t===n)return e;var o=a.buildLineage({descendant:t.parentElement,ancestor:n});return e.map((function(e){return r(e,o)}))}t.default=function(e){var t=d(e.imageContainers,e.primaryTextRootNode,e.contentSearchRootElement,(function(e,t){return new i.default(t.concat(e.containerLineage),e.contentLineages.map((function(e){return t.concat(e)})),e.caption,e.credit)})),n=d(e.preformattedTextContainers,e.primaryTextRootNode,e.contentSearchRootElement,(function(e,t){return new u.default(t.concat(e.containerLineage),e.contentLineages.map((function(e){return t.concat(e)})),e.wordCount)})),r=a.zipContentLineages(e.primaryTextContainers.concat(t).concat(n));e.contentSearchRootElement!==document.body&&(r=a.buildLineage({descendant:e.contentSearchRootElement.parentElement,ancestor:document.body}).map((function(e){return[e]})).concat(r));var m=Array.from(document.querySelectorAll("body script")).filter((function(e){return s.includes(e.type)}));if(m.length&&Array.from(m).forEach((function(e){a.buildLineage({descendant:e.hasChildNodes()?e.childNodes[0]:e,ancestor:document.body}).forEach((function(e,t){t<r.length?r[t].includes(e)||r[t].push(e):r.push([e])}))})),Array.from(document.documentElement.children).forEach((function(e){"HEAD"!==e.nodeName&&"BODY"!==e.nodeName&&e.remove()})),function e(t,n,r,o,i,l){if(!a.isElement(t)||!a.isReadupElement(t)&&"NOSCRIPT"!==t.nodeName&&"BR"!==t.nodeName)if(!(n>o.length-1)&&o[n].includes(t)||r&&a.isElement(t)&&c.isValidContent(t,l)){var u=!r&&a.isImageContainerElement(t);if(u){var s=i.find((function(e){return e.containerElement===t}));s&&(s.containerElement.classList.add("com_readup_article_image_container"),c.createMetadataElements(s.caption,s.credit,t))}Array.from(t.childNodes).forEach((function(t){e(t,n+1,u||r,o,i,l)}))}else t.remove()}(document.body,0,!1,r,t,l.default.universal.imageContainerContent),1===document.body.children.length){for(var f=document.body.children[0];1===f.children.length&&!e.primaryTextContainers.some((function(e){return e.containerElement===f}));)f=f.children[0];f!==document.body.children[0]&&document.body.replaceChild(f,document.body.children[0])}var h=document.createElement("div");h.id="com_readup_article_content",h.append.apply(h,o(Array.from(document.body.children).filter((function(e){return!a.isReadupElement(e)}))));var p=document.createElement("div");return p.id="com_readup_scroll_container",p.append(h),document.body.prepend(p),{contentRoot:h,scrollRoot:p}}}]);