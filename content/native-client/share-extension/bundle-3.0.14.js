!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.absoluteUrlRegex=/^(https?:)?\/{2}(?!\/)/,e.getElementAttribute=function(t,e){return t?e(t):null},e.matchGetAbsoluteUrl=function(t){if(t){var n=t.match(e.absoluteUrlRegex);if(n)return n[1]?t:window.location.protocol+t}return null},e.getWords=function(t){return t&&t.match(/\S+/g)||[]}},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.buildLineage=function(t){for(var e=t.ancestor,n=[t.descendant];n[0]!==e;)n.unshift(n[0].parentElement);return n};var a=/[A-Z]?[a-z]+/g;function i(t){return t.reduce((function(t,e){return e.forEach((function(e,n){t[n].includes(e)||t[n].push(e)})),t}),Array.from(new Array(Math.max.apply(Math,o(t.map((function(t){return t.length})))))).map((function(){return[]})))}e.findWordsInAttributes=function(t){return((t.id+" "+t.classList.value).match(a)||[]).map((function(t){return t.toLowerCase()}))},e.isElement=function(t){return t.nodeType===Node.ELEMENT_NODE},e.isImageContainerElement=function(t){return"FIGURE"===t.nodeName||"IMG"===t.nodeName||"PICTURE"===t.nodeName},e.isReadupElement=function(t){return(t.getAttribute("id")||"").startsWith("com_readup_")},e.isValidImgElement=function(t){return t.naturalWidth<=1&&t.naturalHeight<=1||t.naturalWidth>=200&&t.naturalHeight>=100||t.naturalWidth>=100&&t.naturalHeight>=200},e.zipContentLineages=function(t){return i(t.reduce((function(t,e){return t.concat(e.contentLineages)}),[]))},e.zipLineages=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this._containerLineage=[],this._contentLineages=[],this._containerLineage=t,this._contentLineages=e}return Object.defineProperty(t.prototype,"containerElement",{get:function(){return this._containerLineage.length?this._containerLineage[this._containerLineage.length-1]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerLineage",{get:function(){return this._containerLineage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentLineages",{get:function(){return this._contentLineages},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);function a(t){return t.split("\n").map((function(t){return t.trim()})).filter((function(t){return!!t})).join("<br /><br />")}e.createMetadataElements=function(t,e,n){if(e&&(!t||e!==t)){var r=document.createElement("div");r.classList.add("com_readup_article_image_credit"),r.textContent=e,t&&(r.textContent=r.textContent.replace(t,"")),r.innerHTML=a(r.textContent),n.insertAdjacentElement("afterend",r)}if(t){var o=document.createElement("div");o.classList.add("com_readup_article_image_caption"),o.textContent=t,e&&t!==e&&(o.textContent=o.textContent.replace(e,"")),o.innerHTML=a(o.textContent),n.insertAdjacentElement("afterend",o)}},e.isValidContent=function(t,e){return!e.nodeNameBlacklist.some((function(e){return t.nodeName===e}))&&(e.nodeNameWhitelist.some((function(e){return t.nodeName===e||!!t.getElementsByTagName(e).length}))||!function(t){var e,n,o="";try{for(var a=r(t.childNodes),i=a.next();!i.done;i=a.next()){var c=i.value;c.nodeType===Node.TEXT_NODE&&(o+=c.textContent)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}(t).trim())&&!o.findWordsInAttributes(t).some((function(t){return e.attributeBlacklist.includes(t)}))&&("IMG"!==t.nodeName||o.isValidImgElement(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(7),a=n(12),i=n(13);(new r.default).sendMessage({type:"parseResult",data:a.default(o.default(),i.default())})},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.postMessage=function(t){window.webkit&&window.webkit.messageHandlers.reallyreadit.postMessage(t)},e.prototype.createIncomingMessageHandlers=function(){var t=this,e=function(e){t.processMessage(JSON.parse(e))};return{postMessage:function(t){e(t)},sendResponse:function(t){e(t)}}},e}(n(6).default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(){this._onMessageListeners=[],this._responseCallbacks=[]}return t.prototype.isResponseEnvelope=function(t){return null!=t.id},t.prototype.processMessage=function(t){var e,n=this;this.isResponseEnvelope(t)?this._responseCallbacks.splice(this._responseCallbacks.findIndex((function(e){return e.id===t.id})),1)[0].function(t.data):(e=null!=t.callbackId?function(e){n.postMessage({id:t.callbackId,data:e})}:function(){},this._onMessageListeners.forEach((function(n){n(t.data,e)})))},t.prototype.addListener=function(t){this._onMessageListeners.push(t)},t.prototype.sendMessage=function(t,e){var n=null;e&&this._responseCallbacks.push({id:n=this._responseCallbacks.length?Math.max.apply(Math,o(this._responseCallbacks.map((function(t){return t.id}))))+1:0,function:e}),this.postMessage({data:t,callbackId:n})},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(9),a=n(10),i=n(11),c=n(0),l={url:null,article:{title:null,source:{},authors:[],tags:[],pageLinks:[]}};function u(t,e,n){var r;return e instanceof Array?(r=function(t){return!!t},n=e):r=e,n.map(t).find(r)}function s(t,e,n){var r;e instanceof Array?n=e:r=e;var o=n.map(t);return r&&(o=o.filter((function(t){return t.every(r)}))),o.sort((function(t,e){return e.length-t.length}))[0]}function d(t,e,n){var r=[t,n,e];return{url:u((function(t){return c.matchGetAbsoluteUrl(t.url)}),r),article:{title:u((function(t){return t.article.title}),r),source:u((function(t){return t.article.source}),(function(t){return!!t.name}),r),datePublished:u((function(t){return t.article.datePublished}),r),dateModified:u((function(t){return t.article.dateModified}),r),authors:s((function(t){return t.article.authors}),(function(t){return!!t.name}),r),section:u((function(t){return t.article.section}),r),description:u((function(t){return t.article.description}),r),tags:s((function(t){return t.article.tags}),r),pageLinks:s((function(t){return t.article.pageLinks}),r)}}}var f=/((^|\W)comments?($|\W))/i;e.default=function(){var t=!1,e=a.default();1===Array.from(document.getElementsByTagName("article")).filter((function(t){return!(f.test(t.id)||f.test(t.classList.value))})).length&&(t=!0);var n,c=i.default();c?t=!0:c=l;var u=document.querySelector('script[type="application/ld+json"]');if(u&&u.textContent){var s=u.textContent.match(/^\s*\/\/<!\[CDATA\[([\s\S]*)\/\/\]\]>\s*$/);try{n=s?o.default([JSON.parse(s[1])]):o.default([JSON.parse(u.textContent)])}catch(t){}}return n?t=!0:(n=o.default(r.default(document.documentElement)))?t=!0:n=l,{isArticle:t,metadata:d(n,e,c)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o={a:"href",img:"src",link:"href",meta:"content",object:"data",time:"datetime"},a=/schema\.org\/(.+)/;function i(t){return t.hasAttribute("itemscope")||t.hasAttribute("itemtype")}function c(t,e){var n={};if(t.hasAttribute("itemtype")){e&&(n["@context"]="http://schema.org");var r=t.getAttribute("itemtype"),o=r.match(a);o&&2===o.length?n["@type"]=o[1]:n["@type"]=r}return n}function l(t,e,n){return t.forEach((function(t){n.hasOwnProperty(t)?n[t]instanceof Array?n[t].push(e):n[t]=[n[t],e]:n[t]=e})),e}e.default=function t(e,n,a){if(void 0===n&&(n=[]),void 0===a&&(a=null),a&&e.hasAttribute("itemprop")){var u=r.getWords(e.getAttribute("itemprop"));i(e)?a=l(u,c(e),a):e.hasAttribute("itemid")||l(u,function(t){var e=t.tagName.toLowerCase();return o.hasOwnProperty(e)?t.getAttribute(o[e]):t.textContent}(e),a)}else i(e)&&n.push(a=c(e,!0));for(var s=0;s<e.children.length;s++)t(e.children[s],n,a);return n}},function(t,e,n){"use strict";function r(t,e){var n=t instanceof Array?t[0]:t;return e&&n?e(n):n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n,o,a=t.find((function(t){return t.hasOwnProperty("@type")&&(t["@type"].endsWith("Article")||"BlogPosting"===t["@type"])}));return a?{url:r(a.url),article:{title:r(a.headline)||r(a.name),source:r(a.publisher||a.sourceOrganization||a.provider,(function(t){return{name:r(t.name),url:r(t.url)}}))||{},datePublished:r(a.datePublished),dateModified:r(a.dateModified),authors:(e=a.author||a.creator,n=function(t){return{name:r(t.name),url:r(t.url)}},o=e instanceof Array?e:e?[e]:[],n?o.map(n):o),section:r(a.articleSection)||r(a.printSection),description:r(a.description),tags:a.keywords?a.keywords instanceof Array?a.keywords:a.keywords.split(","):[],pageLinks:[]}}:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.default=function(){var t=document.querySelectorAll("article h1");return{url:r.matchGetAbsoluteUrl(r.getElementAttribute(document.querySelector('link[rel="canonical"]'),(function(t){return t.href})))||window.location.href.split(/\?|#/)[0],article:{title:1===t.length?t[0].textContent.trim():document.title,source:{url:r.matchGetAbsoluteUrl(r.getElementAttribute(document.querySelector('link[rel="publisher"]'),(function(t){return t.href})))||window.location.protocol+"//"+window.location.hostname},description:r.getElementAttribute(document.querySelector('meta[name="description"]'),(function(t){return t.content})),authors:Array.from(document.querySelectorAll('meta[name="author"]')).map((function(t){return{name:t.content}})),tags:[],pageLinks:[]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);function o(t,e){return r.getElementAttribute(e.find((function(e){return e.getAttribute("property")===t})),(function(t){return t.content}))}e.default=function(){var t=Array.from(document.getElementsByTagName("meta"));return/article/i.test(o("og:type",t))?{url:o("og:url",t),article:{title:o("og:title",t),source:{name:o("og:site_name",t)},datePublished:o("article:published_time",t),dateModified:o("article:modified_time",t),authors:t.filter((function(t){return"article:author"===t.getAttribute("property")})).map((function(t){var e=r.matchGetAbsoluteUrl(t.content);return e?{url:e}:{name:t.content}})),section:o("article:section",t),description:o("og:description",t),tags:t.filter((function(t){return"article:tag"===t.getAttribute("property")})).map((function(t){return t.content})),pageLinks:[]}}:null}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=e.primaryTextContainers.reduce((function(t,e){return t+e.wordCount}),0);return r(r({},t.metadata),{wordCount:n,readableWordCount:n,article:r(r({},t.metadata.article),{description:t.metadata.article.description})})}},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(14),c=n(15),l=n(16),u=n(17),s=n(18),d=n(19),f=n(1),m=n(3),h=n(20),p=n(21),g=n(23),y=/\S+/g,b=/^[^.!?]+[.!?'"]*$/,S=/^[^:]+:.+$/;function v(t,e){return e.map((function(e){return t.querySelectorAll(e)})).reduce((function(t,e){return t.concat(Array.from(e))}),[])}function C(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(e(r,n))return r}return null}function _(t){return Array.isArray(t)?t.reduce((function(t,e){return t.concat(_(e))}),[]):"string"==typeof t?Array.from(document.querySelectorAll(t)):t()}function x(t,e){var n=f.findWordsInAttributes(t);return!n.some((function(t){return(e.attributeFullWordBlacklist.includes(t)||e.attributeWordPartBlacklist.some((function(e){return t.includes(e)})))&&!n.some((function(t){return e.attributeFullWordWhitelist.includes(t)}))}))}function E(t,e){var n=t.getElementsByTagName("a");if(!n.length)return!0;if(1===n.length&&n[0].textContent===t.textContent&&t.textContent.toUpperCase()===t.textContent)return!1;var r=t.textContent.trim();if(e.regexBlacklist.some((function(t){return t.test(r)})))return!1;if(r.match(b)){if(S.test(r))return!1;var o=r.toLowerCase();return!e.singleSentenceOpenerBlacklist.some((function(t){return o.startsWith(t)}))}return!0}function w(t,e){return!e.nodeNameBlacklist.some((function(e){return t.nodeName===e}))&&!e.selectorBlacklist.some((function(e){return t.matches(e)}))}var k=function(){function t(t,e,n,r){var o=function(t,e){return C(t,(function(n,r){return f.isElement(n)&&e.nodeNameWhitelist.includes(n.nodeName)&&!t.slice(0,r).some((function(t){return e.ancestorNodeNameBlacklist.includes(t.nodeName)}))}))}(e,n.textContainerSelection);if(o&&!n.textContainerSearch.descendantNodeNameBlacklist.some((function(t){return!!o.getElementsByTagName(t).length}))){var a=void 0,i=n?n.transpositions.find((function(t){return t.elements.some((function(t){return t===o}))})):null;a=i?i.lineage.concat(o):e.slice(0,e.indexOf(o)+1);var c=new d.default(a,[e.concat(t)],function(t){return(t.textContent.match(y)||[]).length}(t)),l=r.find((function(t){return t.containerElement===o}));l?l.mergeContent(c):r.push(c)}}return function(e,n,o,a){var i,c;if(void 0===a&&(a=[]),f.isElement(e)&&(!n.length||w(e,o.textContainerSearch))){var l=n.concat(e);try{for(var u=r(e.childNodes),s=u.next();!s.done;s=u.next()){var d=s.value;d.nodeType===Node.TEXT_NODE?t(d,l,o,a):k(d,l,o,a)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(c=u.return)&&c.call(u)}finally{if(i)throw i.error}}}return a}}();var A=function(){function t(t){var e,n;try{for(var o=r(t),a=o.next();!a.done;a=o.next()){var i=a.value;if(i instanceof HTMLElement){var c=i.innerText.trim();if(c)return c}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return null}function e(t,n,o){var a,i;if(void 0===o&&(o=[]),m.isValidContent(t,n)){o.push(t);try{for(var c=r(t.children),l=c.next();!l.done;l=c.next()){e(l.value,n,o)}}catch(t){a={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}}return o}return function(n,o,a,i,c,l){if(void 0===l&&(l=[]),f.isElement(n)&&w(n,c.imageContainerSearch)){var s=o.concat(n);P(n,o.length,a,i).forEach((function(n){f.isImageContainerElement(n.node)?function(n,o,a,i){var c,l;if(w(n,a.imageContainerSearch)&&!a.imageContainerSearch.descendantNodeNameBlacklist.some((function(t){return!!n.getElementsByTagName(t).length}))){var s=Array.from("IMG"===n.nodeName?[n]:n.getElementsByTagName("img")),d=s.filter((function(t){return f.isValidImgElement(t)}));if(!s.length||d.length){var m=void 0,h=void 0;switch(n.nodeName){case"PICTURE":m=n,h=Array.from(n.children).filter((function(t){return"SOURCE"===t.nodeName||"META"===t.nodeName||"IMG"===t.nodeName}));break;case"FIGURE":m=n,h=[];try{for(var p=r(n.children),g=p.next();!g.done;g=p.next()){e(g.value,a.imageContainerContent,h)}}catch(t){c={error:t}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(c)throw c.error}}break;case"IMG":m=n,h=[n]}var y=C(o,(function(t,e){if(0===e)return!1;var n=o[e-1];return(n.previousElementSibling||n.nextElementSibling)&&!f.findWordsInAttributes(n).some((function(t){return a.imageContainerMetadata.imageWrapperAttributeWordParts.some((function(e){return t.includes(e)}))}))}))||n;i.push(new u.default(m?o.concat(m):[],h.map((function(t){return o.concat(f.buildLineage({descendant:t,ancestor:n}))})),t(v(y,a.imageContainerMetadata.captionSelectors)),t(v(y,a.imageContainerMetadata.creditSelectors))))}}}(n.node,s,c,l):A(n.node,s,n.edge,i,c,l)}))}return l}}();function P(t,e,n,r){var o=Array.from(t.childNodes);if(n!==s.default.None&&e<r.length-1){var a,i,c=r[e+1];return n&s.default.Left&&(a=o.findIndex((function(t){return c.includes(t)}))),n&s.default.Right&&(i=o.length-1-o.reverse().findIndex((function(t){return c.includes(t)})),o.reverse()),o.filter((function(t,e){return(null==a||e>=a)&&(null==i||e<=i)})).map((function(t,e,r){var o=s.default.None;return n&s.default.Left&&0===e&&(o|=s.default.Left),n&s.default.Right&&e===r.length-1&&(o|=s.default.Right),{node:t,edge:o}}))}return o.map((function(t){return{node:t,edge:s.default.None}}))}e.default=function(){var t,e=g.findPublisherConfig(p.default.publishers,window.location.hostname);e&&e.contentSearchRootElementSelector&&(t=document.querySelector(e.contentSearchRootElementSelector)),t||(t=document.body);var n=new h.default(p.default.universal,e,t),r=_(n.textContainerFilter.blacklistSelectors),o=k(t,[],n).filter((function(t){return t.wordCount>0&&!r.some((function(e){return e===t.containerElement}))&&E(t.containerElement,n.textContainerFilter)})),u=o.filter((function(t){return x(t.containerElement,n.textContainerFilter)}));u.length/o.length>.5&&(o=u);var d,m=o.reduce((function(t,e){var n=e.containerLineage.length,r=t.find((function(t){return t.depth===n}));return r?r.add(e):t.push(new i.default(n,e)),t}),[]),y=m.sort((function(t,e){return e.wordCount-t.wordCount}))[0],b=(d=y).members.map((function(t,e,n){for(var r=n.filter((function(e){return e!==t})),o=[new l.default({hops:0,frequency:1,wordCount:t.wordCount})],a=function(e){var n=d.depth-e,a=r.filter((function(e){return e.containerLineage[n]===t.containerLineage[n]}));a.length&&(o.push(new l.default({hops:2*e,frequency:a.length,wordCount:a.reduce((function(t,e){return t+e.wordCount}),0)})),a.forEach((function(t){r.splice(r.indexOf(t),1)})))},i=1;i<=d.depth&&r.length;i++)a(i);return new c.default(t,o)})),S=b.reduce((function(t,e){var n=t.find((function(t){return t.preferredPathHopCount===e.getPreferredPath().hops}));return n?(n.searchResults.push(e),n.wordCount+=e.textContainer.wordCount):t.push({preferredPathHopCount:e.getPreferredPath().hops,searchResults:[e],wordCount:e.textContainer.wordCount}),t}),[]).sort((function(t,e){return e.wordCount-t.wordCount})).reduce((function(t,e){return t.reduce((function(t,e){return t+e.wordCount}),0)<y.wordCount*n.wordCountTraversalPathSearchLimitMultiplier&&t.push(e),t}),[]).reduce((function(t,e){return t.concat(e.searchResults)}),[]),v=b.filter((function(t){return!S.includes(t)}));if(v.length){var C=S.reduce((function(t,e){var n=t.find((function(t){return t.nodeName===e.textContainer.containerElement.nodeName}));return n?(n.searchResults.push(e),n.wordCount+=e.textContainer.wordCount):t.push({nodeName:e.textContainer.containerElement.nodeName,searchResults:[e],wordCount:e.textContainer.wordCount}),t}),[]).sort((function(t,e){return e.wordCount-t.wordCount}))[0];"P"===C.nodeName&&(S=S.concat(v.filter((function(t){return t.textContainer.containerElement.nodeName===C.nodeName}))))}var O=S[0].textContainer.containerLineage[S[0].textContainer.containerLineage.length-Math.max(Math.max.apply(Math,a(S.map((function(t){return t.getPreferredPath().hops}))))/2,1)],N=f.zipContentLineages(S.map((function(t){return t.textContainer}))).slice(f.buildLineage({ancestor:t,descendant:O}).length-1),M=_(n.imageContainerFilter.blacklistSelectors),B=A(O,[],s.default.Left|s.default.Right,N,n).filter((function(t){return!M.some((function(e){return e===t.containerElement}))&&x(t.containerElement,n.imageContainerFilter)&&function(t,e){var n=(t.caption||"")+" "+(t.credit||"");return!(e.contentRegexBlacklist.some((function(t){return t.test(n)}))&&!e.contentRegexWhitelist.some((function(t){return t.test(n)})))}(t,n.imageContainerMetadata)})),L=function t(e,n,r,o,i,c,l,u){return void 0===u&&(u=[]),f.isElement(e)&&!l.additionalContentNodeNameBlacklist.includes(e.nodeName)&&w(e,l)&&!c.includes(e)&&P(e,n.length,r,o).forEach((function(r){var s;f.isElement(r.node)&&(s=i.find((function(t){return t.containerElement===r.node})))?c.some((function(t){return t===r.node||r.node.contains(t)}))||u.push(s):t(r.node,a([e],n),r.edge,o,i,c,l,u)})),u}(O,[],s.default.Left|s.default.Right,N,m.filter((function(t){return t.depth!==y.depth&&t.depth>=y.depth-n.textContainerSearch.additionalContentMaxDepthDecrease&&t.depth<=y.depth+n.textContainerSearch.additionalContentMaxDepthIncrease})).reduce((function(t,e){return t.concat(e.members)}),[]).concat(b.filter((function(t){return!S.includes(t)})).map((function(t){return t.textContainer}))),B.map((function(t){return t.containerElement})),n.textContainerSearch).filter((function(t){return E(t.containerElement,n.textContainerFilter)}));return{contentSearchRootElement:t,depthGroupWithMostWords:y,primaryTextContainerSearchResults:S,additionalPrimaryTextContainers:L,primaryTextRootNode:O,primaryTextContainers:S.map((function(t){return t.textContainer})).concat(L),imageContainers:B}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._wordCount=0,this._depth=t,this._members=e,this._wordCount=e.reduce((function(t,e){return t+e.wordCount}),0)}return t.prototype.add=function(t){var e=this._members.find((function(e){return e.containerElement===t.containerElement}));e?e.mergeContent(t):this._members.push(t),this._wordCount+=t.wordCount},Object.defineProperty(t.prototype,"depth",{get:function(){return this._depth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"members",{get:function(){return this._members},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordCount",{get:function(){return this._wordCount},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this._textContainer=t,this._paths=e}return t.prototype.getPreferredPath=function(){return this._preferredPath||(this._preferredPath=this._paths.sort((function(t,e){return t.wordCount!==e.wordCount?e.wordCount-t.wordCount:t.hops-e.hops}))[0]),this._preferredPath},Object.defineProperty(t.prototype,"textContainer",{get:function(){return this._textContainer},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=t.hops,n=t.frequency,r=t.wordCount;this._hops=e,this._frequency=n,this._wordCount=r}return t.prototype.add=function(e){var n=e.frequency,r=e.wordCount;return new t({hops:this._hops,frequency:this._frequency+n,wordCount:this._wordCount+r})},Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hops",{get:function(){return this._hops},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordCount",{get:function(){return this._wordCount},enumerable:!0,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n,r,o){var a=t.call(this,e,n)||this;return a._caption=r,a._credit=o,a}return o(e,t),Object.defineProperty(e.prototype,"caption",{get:function(){return this._caption},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"credit",{get:function(){return this._credit},enumerable:!0,configurable:!0}),e}(n(2).default);e.default=a},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right"}(r||(r={})),e.default=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var c=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o._wordCount=r,o}return o(e,t),e.prototype.mergeContent=function(t){var e;(e=this._contentLineages).push.apply(e,i(t._contentLineages)),this._wordCount+=t.wordCount},Object.defineProperty(e.prototype,"wordCount",{get:function(){return this._wordCount},enumerable:!0,configurable:!0}),e}(n(2).default);e.default=c},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=function(){function t(t,e,n){this._textContainerFilter=t.textContainerFilter,this._imageContainerMetadata=t.imageContainerMetadata,this._imageContainerContent=t.imageContainerContent,this._textContainerSelection=t.textContainerSelection,this._wordCountTraversalPathSearchLimitMultiplier=t.wordCountTraversalPathSearchLimitMultiplier,e?(e.textContainerSearch?this._textContainerSearch=r(r({},t.textContainerSearch),{selectorBlacklist:t.textContainerSearch.selectorBlacklist.concat(e.textContainerSearch.selectorBlacklist||[])}):this._textContainerSearch=t.textContainerSearch,e.textContainerFilter?this._textContainerFilter=r(r({},t.textContainerFilter),{attributeFullWordBlacklist:t.textContainerFilter.attributeFullWordBlacklist.concat(e.textContainerFilter.attributeFullWordBlacklist||[]),attributeFullWordWhitelist:e.textContainerFilter.attributeFullWordWhitelist||[],blacklistSelectors:t.textContainerFilter.blacklistSelectors.concat(e.textContainerFilter.blacklistSelectors||[])}):this._textContainerFilter=r(r({},t.textContainerFilter),{attributeFullWordWhitelist:[]}),e.imageContainerSearch?this._imageContainerSearch=r(r({},t.imageContainerSearch),{selectorBlacklist:t.imageContainerSearch.selectorBlacklist.concat(e.imageContainerSearch.selectorBlacklist||[])}):this._imageContainerSearch=t.imageContainerSearch,e.imageContainerFilter?this._imageContainerFilter=r(r({},t.imageContainerFilter),{attributeFullWordBlacklist:t.imageContainerFilter.attributeFullWordBlacklist.concat(e.imageContainerFilter.attributeFullWordBlacklist||[]),attributeFullWordWhitelist:e.imageContainerFilter.attributeFullWordWhitelist||[],blacklistSelectors:t.imageContainerFilter.blacklistSelectors.concat(e.imageContainerFilter.blacklistSelectors||[])}):this._imageContainerFilter=r(r({},t.imageContainerFilter),{attributeFullWordWhitelist:[]}),this._contentSearchRootElementSelector=e.contentSearchRootElementSelector,e.transpositions?this._transpositions=e.transpositions.map((function(t){var e=document.querySelector(t.parentElementSelector),r=t.elementSelectors.reduce((function(t,e){return t.concat(Array.from(document.querySelectorAll(e)))}),[]);return e&&r.length?{elements:r,lineage:o.buildLineage({ancestor:n,descendant:e})}:null})).filter((function(t){return!!t})):this._transpositions=[],this._imageStrategy=e.imageStrategy):(this._textContainerSearch=t.textContainerSearch,this._textContainerFilter=r(r({},t.textContainerFilter),{attributeFullWordWhitelist:[]}),this._imageContainerSearch=t.imageContainerSearch,this._imageContainerFilter=r(r({},t.imageContainerFilter),{attributeFullWordWhitelist:[]}),this._transpositions=[])}return Object.defineProperty(t.prototype,"textContainerSearch",{get:function(){return this._textContainerSearch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textContainerFilter",{get:function(){return this._textContainerFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageContainerSearch",{get:function(){return this._imageContainerSearch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageContainerFilter",{get:function(){return this._imageContainerFilter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageContainerMetadata",{get:function(){return this._imageContainerMetadata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageContainerContent",{get:function(){return this._imageContainerContent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textContainerSelection",{get:function(){return this._textContainerSelection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentSearchRootElementSelector",{get:function(){return this._contentSearchRootElementSelector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transpositions",{get:function(){return this._transpositions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordCountTraversalPathSearchLimitMultiplier",{get:function(){return this._wordCountTraversalPathSearchLimitMultiplier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageStrategy",{get:function(){return this._imageStrategy},enumerable:!0,configurable:!0}),t}();e.default=a},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var a=n(22);e.default={universal:{textContainerSearch:{additionalContentNodeNameBlacklist:["ASIDE","FOOTER","HEADER"],additionalContentMaxDepthDecrease:1,additionalContentMaxDepthIncrease:1,descendantNodeNameBlacklist:["FORM"],nodeNameBlacklist:["BUTTON","FIGURE","FORM","HEAD","IFRAME","NAV","NOSCRIPT","PICTURE","SCRIPT","STYLE"],selectorBlacklist:['[itemprop="author"], [itemprop="datePublished"]']},textContainerFilter:{attributeFullWordBlacklist:["ad","carousel","gallery","related","share","subscribe","subscription"],attributeWordPartBlacklist:["byline","caption","comment","download","interlude","image","meta","newsletter","photo","promo","pullquote","recirc","video"],blacklistSelectors:[],regexBlacklist:[/^\[[^\]]+\]$/],singleSentenceOpenerBlacklist:["►","click here","check out","don't miss","listen to","read more","related article:","sign up for","sponsored:","this article appears in","watch:"]},imageContainerSearch:{descendantNodeNameBlacklist:["FORM","IFRAME"],nodeNameBlacklist:["FORM","HEAD","IFRAME","NAV","SCRIPT","STYLE"],selectorBlacklist:[]},imageContainerFilter:{attributeFullWordBlacklist:["ad","related","share","subscribe","subscription"],attributeWordPartBlacklist:["interlude","newsletter","promo","recirc","video"],blacklistSelectors:[]},imageContainerMetadata:{contentRegexBlacklist:[/audm/i],contentRegexWhitelist:[],captionSelectors:["figcaption",'[class*="caption"i]','[itemProp*="caption"i]','[itemProp*="description"i]'],creditSelectors:['[class*="credit"i]','[class*="source"i]','[itemProp*="copyrightHolder"i]'],imageWrapperAttributeWordParts:["image","img","photo"]},imageContainerContent:{nodeNameBlacklist:["BUTTON"],nodeNameWhitelist:["IMG","META","PICTURE","SOURCE"],attributeBlacklist:["expand","icon","share"]},textContainerSelection:{nodeNameWhitelist:["ASIDE","BLOCKQUOTE","DIV","H1","H2","H3","H4","H5","H6","OL","P","PRE","TABLE","UL"],ancestorNodeNameBlacklist:["BLOCKQUOTE","LI","P"]},wordCountTraversalPathSearchLimitMultiplier:.75},publishers:[{hostname:"ablogtowatch.com",textContainerSearch:{selectorBlacklist:[".ablog-adlabel"]}},{hostname:"99u.adobe.com",textContainerFilter:{attributeFullWordBlacklist:["blockquote"]}},{hostname:"bostonglobe.com",transpositions:[{elementSelectors:[".article > .lead > *"],parentElementSelector:".article > .body"}]},{hostname:"cnbc.com",contentSearchRootElementSelector:".ArticleBody-articleBody"},{hostname:"cnn.com",transpositions:[{elementSelectors:[".el__leafmedia--sourced-paragraph > .zn-body__paragraph",".l-container > .zn-body__paragraph:not(.zn-body__footer)",".l-container > .zn-body__paragraph > h3"],parentElementSelector:".zn-body__read-all"}]},{hostname:"gizmodo.com",imageStrategy:a.LazyImageStrategy.GizmodoImgUrl},{hostname:"abcnews.go.com",textContainerSearch:{selectorBlacklist:['[class*="insert"]']}},{hostname:"governing.com",imageStrategy:a.LazyImageStrategy.GoverningImgSrcCorrection},{hostname:"huffpost.com",transpositions:[{elementSelectors:['#entry-text [data-rapid-subsec="paragraph"] > :not([data-rapid-subsec="paragraph"])'],parentElementSelector:"#entry-text"}]},{hostname:"insider.com",imageStrategy:a.LazyImageStrategy.PostLoadImgTag},{hostname:"invisionapp.com",imageContainerSearch:{selectorBlacklist:['div[class^="TweetQuotecomponent"]']}},{hostname:"longreads.com",textContainerSearch:{selectorBlacklist:[".in-story"]}},{hostname:"medium.com",textContainerFilter:{attributeFullWordWhitelist:["ad"]},imageStrategy:a.LazyImageStrategy.MediumScaleUp},{hostname:"devblogs.microsoft.com",contentSearchRootElementSelector:"article"},{hostname:"nymag.com",contentSearchRootElementSelector:".article-content"},{hostname:"nytimes.com",transpositions:[{elementSelectors:[".story-body-1 > .story-body-text"],parentElementSelector:".story-body-2"}],imageStrategy:a.LazyImageStrategy.NytFigureMulti,textContainerSearch:{selectorBlacklist:['[id*="ad"], .epkadsg3, .etfikam0, .ez3869y0']},imageContainerSearch:{selectorBlacklist:['[id*="ad"], .epkadsg3, .etfikam0, .ez3869y0']}},{hostname:"qsrmagazine.com",contentSearchRootElementSelector:".post"},{hostname:"raptitude.com",contentSearchRootElementSelector:".entry-content"},{hostname:"article-test.dev.readup.com",transpositions:[{elementSelectors:[".lead"],parentElementSelector:".lead + div"}],imageStrategy:a.LazyImageStrategy.PostLoadImgTag},{hostname:"sciencedaily.com",transpositions:[{elementSelectors:["p.lead"],parentElementSelector:"div#text"}]},{hostname:"sinocism.com",textContainerFilter:{blacklistSelectors:[function(){var t=Array.from(document.getElementsByTagName("p")).find((function(t){return t.textContent.toLowerCase().startsWith("this week’s issues of sinocism")}));return t?o([t],Array.from(t.parentElement.children).filter((function(e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING}))):[]}]}},{hostname:"techcrunch.com",contentSearchRootElementSelector:".article-content"},{hostname:"techrepublic.com",textContainerFilter:{blacklistSelectors:[function(){var t=Array.from(document.getElementsByTagName("h2")).find((function(t){return t.textContent.toLowerCase().startsWith("also see")}));return t&&t.nextElementSibling?[t,t.nextElementSibling]:[]}]}},{hostname:"theatlantic.com",contentSearchRootElementSelector:".article-body",transpositions:[{elementSelectors:[".article-body > section > div > p"],parentElementSelector:".article-body > section:last-of-type"}],imageContainerSearch:{selectorBlacklist:[".callout"]},textContainerSearch:{selectorBlacklist:[".c-nudge__spacing-container"]},textContainerFilter:{blacklistSelectors:[function(){var t=Array.from(document.querySelectorAll("p > strong")).find((function(t){return"related video"===t.textContent.trim().toLowerCase()}));return t?[t.parentElement]:[]}]}},{hostname:"thecorrespondent.com",textContainerSearch:{selectorBlacklist:[".contentitem-infocard__toggle-icon",".contentitem-sidenote__note"]}},{hostname:"thecut.com",contentSearchRootElementSelector:'[itemprop="articleBody"]',textContainerSearch:{selectorBlacklist:["aside"]}},{hostname:"thedailybeast.com",contentSearchRootElementSelector:"article.Body"},{hostname:"theguardian.com",textContainerSearch:{selectorBlacklist:[".contributions__epic"]}},{hostname:"thenewatlantis.com",textContainerSearch:{selectorBlacklist:['.author, .epigraph, [style*="BellMT"], h2']},imageContainerSearch:{selectorBlacklist:['[style*="BellMT"]']}},{hostname:"theverge.com",contentSearchRootElementSelector:".c-entry-content",textContainerSearch:{selectorBlacklist:["aside"]}},{hostname:"variety.com",contentSearchRootElementSelector:"article.c-content"},{hostname:"vice.com",contentSearchRootElementSelector:".article__body"},{hostname:"washingtonpost.com",imageStrategy:a.LazyImageStrategy.WashingtonPostScaleUp,textContainerSearch:{selectorBlacklist:[".pg-navigation",".pg-article-bottom",".utility-bar",'[data-qa="article-body-ad"]',".hide-for-print",".annotation-details"]},textContainerFilter:{attributeFullWordBlacklist:["helper","interstitial"]},transpositions:[{elementSelectors:["article header#pg-content p.pg-body-copy"],parentElementSelector:"article .article-body"}],imageContainerSearch:{selectorBlacklist:[".annotation-details"]}},{hostname:"wired.com",textContainerFilter:{attributeFullWordBlacklist:["inset"],blacklistSelectors:[function(){var t=Array.from(document.getElementsByTagName("h3")).find((function(t){return t.textContent.toLowerCase().startsWith("more great wired stories")}));return t&&t.nextElementSibling?[t,t.nextElementSibling]:[]}]},imageContainerSearch:{selectorBlacklist:[".inset"]}},{hostname:"news.harvard.edu",textContainerFilter:{attributeFullWordBlacklist:["explore"]}},{hostname:"nih.gov",contentSearchRootElementSelector:"#maincontent",textContainerSearch:{selectorBlacklist:[".goto",".largeobj-link"]},textContainerFilter:{blacklistSelectors:[function(){var t=Array.from(document.getElementsByTagName("h2")).find((function(t){return"Footnotes"===t.textContent}));return t&&t.parentElement.classList.contains("sec")?Array.from(t.parentElement.parentElement.children).filter((function(e){return t.parentElement===e||t.parentElement.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING})).reduce((function(t,e){return t.concat(Array.from(e.querySelectorAll("*")))}),[]):[]}]},transpositions:[{elementSelectors:[".sec > .sec > *",".sec > .table > *",".sec > .table > .caption > *",".sec > .table > * > table",".sec > .table > .tblwrap-foot > *"],parentElementSelector:"#maincontent .sec + .sec"}]},{hostname:"hackster.io",contentSearchRootElementSelector:"#story"},{hostname:"dark-mountain.net",transpositions:[{elementSelectors:[".entry-content > div > .component--drop-cap",".entry-content > div > p"],parentElementSelector:".entry-content"}]},{hostname:"mcsweeneys.net",contentSearchRootElementSelector:".article-body"},{hostname:"churchofjesuschrist.org",transpositions:[{elementSelectors:[".body-block > p",".body-block > section:first-of-type > header > h2"],parentElementSelector:".body-block > section:first-of-type"}]},{hostname:"quantamagazine.org",imageStrategy:a.LazyImageStrategy.QuantaScriptTemplate,imageContainerSearch:{selectorBlacklist:[".post__sidebar"]}},{hostname:"dailymail.co.uk",contentSearchRootElementSelector:'div[itemprop="articleBody"]',textContainerSearch:{selectorBlacklist:[".art-insert"]}},{hostname:"lrb.co.uk",transpositions:[{elementSelectors:[".article-body > .dropcap"],parentElementSelector:"#article-body"}]},{hostname:"telegraph.co.uk",transpositions:[{elementSelectors:['#mainBodyArea > div[class$="Par"] > *'],parentElementSelector:"#mainBodyArea > .body"}]},{hostname:"nautil.us",contentSearchRootElementSelector:'[itemprop="articleBody"]',imageStrategy:a.LazyImageStrategy.NautilusHostSwap,textContainerSearch:{selectorBlacklist:[".pull-quote"]},imageContainerSearch:{selectorBlacklist:[".reco"]}}]}},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var a,i=n(3);function c(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];n.forEach((function(n){var r,o;"string"==typeof n?(r=n,o=n):(r=n[0],o=n[1]),t.hasAttribute(r)&&e.setAttribute(o,t.getAttribute(r))}))}function l(t,e){if(t.length)if("IntersectionObserver"in window){var n=new IntersectionObserver((function(t,n){t.forEach((function(t){t.isIntersecting&&(n.unobserve(t.target),e(t.target))}))}),{rootMargin:"0px 0px 200px 0px"});t.forEach((function(t){n.observe(t)}))}else t.forEach(e)}!function(t){t[t.DataSrcSrcset=0]="DataSrcSrcset",t[t.GizmodoImgUrl=1]="GizmodoImgUrl",t[t.GoverningImgSrcCorrection=2]="GoverningImgSrcCorrection",t[t.HttpToHttps=3]="HttpToHttps",t[t.MediumScaleUp=4]="MediumScaleUp",t[t.NautilusHostSwap=5]="NautilusHostSwap",t[t.NoscriptImgContent=6]="NoscriptImgContent",t[t.NytFigureMulti=7]="NytFigureMulti",t[t.PostLoadImgTag=8]="PostLoadImgTag",t[t.QuantaScriptTemplate=9]="QuantaScriptTemplate",t[t.WashingtonPostScaleUp=10]="WashingtonPostScaleUp"}(a=e.LazyImageStrategy||(e.LazyImageStrategy={}));var u="img[data-src], img[data-srcset], source[data-src], source[data-srcset]";function s(t){var e=t.slice().sort((function(t,e){return t-e})),n=window.screen.availWidth*window.devicePixelRatio;return e.find((function(t){return t>=n}))||e[e.length-1]}e.default=function t(e){switch(e){case a.DataSrcSrcset:l(Array.from(document.querySelectorAll(u)).map((function(t){return t.parentElement})),(function(t){Array.from(t.querySelectorAll(u)).forEach((function(t){t.hasAttribute("data-src")&&t.getAttribute("data-src")!==t.getAttribute("src")&&t.setAttribute("src",t.getAttribute("data-src")),t.hasAttribute("data-srcset")&&t.getAttribute("data-srcset")!==t.getAttribute("srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset")),t.hasAttribute("src")&&t.getAttribute("src").startsWith("data:")&&t.removeAttribute("src")}))}));break;case a.GizmodoImgUrl:l(Array.from(document.querySelectorAll("figure[data-id][data-format]")),(function(t){var e=t.getElementsByTagName("img")[0];e&&e.src.startsWith("data:")&&(e.src="https://i.kinja-img.com/gawker-media/image/upload/c_scale,f_auto,fl_progressive,q_80,w_"+s([80,320,470,800,1600])+"/"+t.dataset.id+"."+t.dataset.format.toLowerCase())}));break;case a.GoverningImgSrcCorrection:l(Array.from(document.querySelectorAll("img")),(function(t){t.src=t.src.replace(/^http:/,"https:").replace(/&.*$/,"")}));break;case a.HttpToHttps:l(Array.from(document.getElementsByTagName("img")),(function(t){t.src=t.src.replace(/^http:/,"https:")}));break;case a.MediumScaleUp:l(Array.from(document.querySelectorAll("figure")),(function(t){var e=t.getElementsByTagName("img")[0];if(e.src){var n=e.src.match(/(https:\/\/[^\/]+)\/.*\/([^\/?]+)/);n&&(e.src=n[1]+"/max/"+e.getAttribute("width")+"/"+n[2])}}));break;case a.NautilusHostSwap:l(Array.from(document.getElementsByTagName("figure")),(function(t){Array.from(t.getElementsByTagName("img")).forEach((function(t){t.src.startsWith("http://static.nautil.us/")&&(t.src=t.src.replace("http://static.nautil.us/","https://d3chnh8fr629l6.cloudfront.net/"))}))}));break;case a.NoscriptImgContent:var n;try{n=/^\s*<\s*img\s.+\s*>\s*$/is}catch(t){n=/^\s*<\s*img\s.+\s*>\s*$/i}l(Array.from(document.getElementsByTagName("noscript")).map((function(t){return t.parentElement})),(function(t){Array.from(t.getElementsByTagName("noscript")).forEach((function(t){if(n.test(t.textContent)){var e=document.createElement("div");e.innerHTML=t.textContent;var r=e.firstElementChild,o=t.parentElement.getElementsByClassName("com_readup_article_image_container")[0];o?"FIGURE"===o.nodeName?o.append(r):(r.classList.add("com_readup_article_image_container"),o.replaceWith(r)):t.replaceWith(r)}}))}));break;case a.NytFigureMulti:var r=Array.from(document.getElementsByTagName("figure")).filter((function(t){return"http://schema.org/ImageObject"===t.getAttribute("itemType")}));r.length&&l(r,(function(t){if(!t.getElementsByTagName("img").length){var e=document.createElement("img");e.src=t.getAttribute("itemID"),t.prepend(e)}}));var d=Array.from(document.querySelectorAll("img[data-pattern][data-widths]"));d.length&&l(d,(function(t){var e;try{var n=JSON.parse(t.dataset.widths);if(Array.isArray(n))e=t.dataset.pattern.replace("{{size}}",s(n).toString());else{var r=s(n.master.map((function(t){return t.size})));e=t.dataset.pattern.replace("{{file}}",n.master.find((function(t){return t.size===r})).filename)}}catch(n){e=t.dataset.mediaviewerSrc}e&&(t.src=e)}));break;case a.PostLoadImgTag:l(Array.from(document.getElementsByTagName("postload-img")),(function(t){var e=document.createElement("img");c.apply(void 0,o([t,e],["data-alt","data-class","data-sizes","data-src","data-srcset","data-title"].map((function(t){return[t,t.split("-")[1]]})))),t.replaceWith(e)}));break;case a.QuantaScriptTemplate:var f=document.querySelectorAll('div[id^="component-"] script');f.length&&l(Array.from(f).map((function(t){return t.parentElement})),(function(t){var e=t.getElementsByTagName("script")[0];if(e)try{var n=JSON.parse(e.textContent),r=document.createElement("img");if(r.src=n.data.src,e.replaceWith(r),n.data.attribution||n.data.caption){var o=void 0,a=void 0,c=document.createElement("div");n.data.attribution&&(c.innerHTML=n.data.attribution,a=c.textContent),n.data.caption&&(c.innerHTML=n.data.caption,o=c.textContent),i.createMetadataElements(o,a,r)}}catch(t){}}));break;case a.WashingtonPostScaleUp:l(Array.from(document.querySelectorAll("img[data-hi-res-src]")),(function(t){t.src=t.getAttribute("data-hi-res-src")}));break;default:if(document.querySelectorAll('figure img[src^="https://miro.medium.com"]').length)return t(a.MediumScaleUp);if(document.querySelectorAll(u).length)return t(a.DataSrcSrcset);if(document.querySelectorAll('img[src^="http:"]').length)return t(a.HttpToHttps);if(document.querySelectorAll("noscript").length)return t(a.NoscriptImgContent)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findPublisherConfig=function(t,e){return t.find((function(t){return e.endsWith(t.hostname)}))}}]);